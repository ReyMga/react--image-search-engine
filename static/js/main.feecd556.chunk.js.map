{"version":3,"sources":["components/Error.jsx","components/Formulario.jsx","components/Imagen.jsx","components/ListadoImagenes.jsx","App.js","index.js"],"names":["Error","mensaje","className","Formulario","setBusqueda","useState","termino","setTermino","error","setError","onSubmit","e","preventDefault","trim","setTimeout","type","placeholder","onChange","target","value","Imagen","imagen","largeImageURL","likes","previewURL","tags","views","src","alt","href","rel","ListadoImagenes","imagenes","map","id","App","busqueda","setImagenes","peticionVacia","setPedicionVacia","paginaActual","setPaginaActual","totalPaginas","setTotalPaginas","useEffect","a","imagenesPorPagina","url","fetch","respuesta","json","resultado","total","hits","calcularTotalPaginas","Math","ceil","totalHits","document","querySelector","scrollIntoView","behavior","consultarApi","onClick","nuevaPaginaActual","nuevaPaginaSiguiente","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.feecd556.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Error = ({mensaje}) => {\r\n    return (\r\n        <p\r\n        className=\"my-3 p-4 text-center text-black alert alert-danger\"\r\n        >\r\n            {mensaje}\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default Error;\r\n\r\n","import {useState} from 'react';\r\n\r\nimport Error from './Error';\r\n\r\nconst Formulario = ({setBusqueda}) => {\r\n\r\n  const [termino, setTermino] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  const buscarImagenes = e => {\r\n    // prevenir el refresh\r\n    e.preventDefault();\r\n    // validar el form\r\n    if(termino.trim() === ''){\r\n      setError(true);\r\n      setTimeout(() => {\r\n        setError(false);\r\n      }, 1500)\r\n      return;\r\n    }\r\n    // setError(false);\r\n    // enviar esta informacion al componente principal\r\n    setBusqueda(termino);\r\n\r\n    // limpiar el formulario\r\n    setTermino('');\r\n  }\r\n  return (\r\n    <form\r\n      onSubmit={buscarImagenes}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-md-8\">\r\n          <input \r\n            type=\"text\"\r\n            className=\"form-control form-control-lg\"\r\n            placeholder=\"Busca una imagen por ejemplo: Caf√©, Futbol, Sopa\"\r\n            onChange={e => setTermino(e.target.value)}\r\n            value={termino}\r\n          />\r\n        </div>\r\n        <div className=\"form-group col-md-4\">\r\n          <input \r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-danger btn-block\"\r\n            value=\"Buscar\"\r\n          />\r\n        </div>\r\n      </div>\r\n      {error && <Error mensaje=\"El campo el obligatorio\" />}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Formulario;\r\n","const Imagen = ({imagen}) => {\r\n    const {largeImageURL, likes, previewURL, tags, views } = imagen;\r\n    return(\r\n      <div className=\"col-12 col-ms-6 col-md-4 col-lg-3\">\r\n        <div className=\"card mt-4\">\r\n        <img \r\n          src={previewURL} \r\n          alt={tags}\r\n          className=\"card-img-top imagen\" \r\n        />\r\n        <div className=\"card-body\">\r\n          <p className=\"card-text\">{likes}: Me gusta üëç</p>\r\n          <p className=\"card-text\">{views}: Vistas</p>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n        <a \r\n          href={largeImageURL}\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          className=\"btn btn-primary btn-block\"\r\n        >Ver Imagen</a>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default Imagen;\r\n  ","import React from 'react';\r\nimport Imagen from './Imagen';\r\n\r\nconst ListadoImagenes = ({imagenes}) => {\r\n\r\n    return (\r\n        <div className=\"colo-12 p-5 row\">\r\n            {imagenes.map(imagen => (\r\n                <Imagen \r\n                 key={imagen.id} \r\n                 imagen={imagen}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListadoImagenes;","import {useState, useEffect} from 'react';\nimport Formulario from './components/Formulario';\nimport ListadoImagenes from './components/ListadoImagenes';\nimport Error from './components/Error';\n\nconst App = () => {\n\n  const [busqueda, setBusqueda] = useState('');\n  const [imagenes, setImagenes] = useState([]);\n  const [peticionVacia, setPedicionVacia] = useState(false);\n  const [paginaActual, setPaginaActual] = useState(1);\n  const [totalPaginas, setTotalPaginas] = useState(1);\n\n  useEffect(() => {\n    setPaginaActual(1)\n  }, [busqueda])\n\n  useEffect(() => {\n\n    const consultarApi = async () =>{\n      if(busqueda === '') return;\n\n      const imagenesPorPagina = 30;\n      const key = '22226354-09ffd12edc4c8d41e60449e43';\n      const url = `https://pixabay.com/api/?key=${key}&q=${busqueda}&per_page=${imagenesPorPagina}&page=${paginaActual}`;\n\n      const respuesta = await fetch(url);\n      const resultado = await respuesta.json();\n      if(resultado.total === 0){\n        setPedicionVacia(true);\n        return;\n      }\n      setPedicionVacia(false);\n      setImagenes(resultado.hits);\n\n        //Calculo total p√°ginas\n      const calcularTotalPaginas = Math.ceil(resultado.totalHits / imagenesPorPagina);\n      setTotalPaginas(calcularTotalPaginas);\n\n        //Mover pantalla para arriba\n      const jumbotron = document.querySelector('.jumbotron');\n      jumbotron.scrollIntoView({behavior: 'smooth'});\n    }\n   \n    consultarApi();\n\n  }, [busqueda, paginaActual])\n\n\n  //Ir a la p√°gina anterior\n  const paginaAnterior = () =>{\n    const nuevaPaginaActual = paginaActual - 1;\n    if(nuevaPaginaActual === 0) return;\n    setPaginaActual(nuevaPaginaActual);\n  }\n\n  //Ir a la p√°gina siguiente\n  const paginaSiguiente = () =>{\n    const nuevaPaginaSiguiente = paginaActual + 1;\n    if(nuevaPaginaSiguiente > totalPaginas) return;\n    setPaginaActual(nuevaPaginaSiguiente);\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"jumbotron\">\n        <p className=\"lead text-center\">\n          Buscador de Im√°genes\n        </p>\n        <Formulario \n          setBusqueda={setBusqueda} \n        />\n      </div>\n      <div className=\"row justify-content-center\">\n      {peticionVacia && <Error mensaje=\"No hay datos\" />}\n        <ListadoImagenes\n          imagenes={imagenes}\n        />\n\n        {(paginaActual === 1) ? null : (\n        <button \n          type=\"button\"\n          className=\"bbtn btn-info mr-1\"\n          onClick={paginaAnterior}\n        >\n          &laquo; Anterior\n        </button>\n        )}\n\n        {(paginaActual !== totalPaginas) && (\n        <button \n          type=\"button\"\n          className=\"bbtn btn-info mr-1\"\n          onClick={paginaSiguiente}\n        >\n          Siguiente &raquo;\n        </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}